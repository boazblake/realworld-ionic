!function(){"use strict";var globals="undefined"==typeof global?self:global;if("function"!=typeof globals.require){var modules={},cache={},aliases={},has={}.hasOwnProperty,expRe=/^\.\.?(\/|$)/,expand=function(root,name){for(var part,results=[],parts=(expRe.test(name)?root+"/"+name:name).split("/"),i=0,length=parts.length;i<length;i++)".."===(part=parts[i])?results.pop():"."!==part&&""!==part&&results.push(part);return results.join("/")},dirname=function(path){return path.split("/").slice(0,-1).join("/")},initModule=function(name,definition){var path,module={id:name,exports:{},hot:hmr&&hmr.createHot(name)};return cache[name]=module,definition(module.exports,(path=name,function(name){var absolute=expand(dirname(path),name);return globals.require(absolute,path)}),module),module.exports},expandAlias=function(name){var val=aliases[name];return val&&name!==val?expandAlias(val):name},require=function(name,loaderPath){null==loaderPath&&(loaderPath="/");var path=expandAlias(name);if(has.call(cache,path))return cache[path].exports;if(has.call(modules,path))return initModule(path,modules[path]);throw new Error("Cannot find module '"+name+"' from '"+loaderPath+"'")};require.alias=function(from,to){aliases[to]=from};var extRe=/\.[^.\/]+$/,indexRe=/\/index(\.[^\/]+)?$/;require.register=require.define=function(bundle,fn){if(bundle&&"object"==typeof bundle)for(var key in bundle)has.call(bundle,key)&&require.register(key,bundle[key]);else modules[bundle]=fn,delete cache[bundle],function(bundle){if(extRe.test(bundle)){var alias=bundle.replace(extRe,"");has.call(aliases,alias)&&aliases[alias].replace(extRe,"")!==alias+"/index"||(aliases[alias]=bundle)}if(indexRe.test(bundle)){var iAlias=bundle.replace(indexRe,"");has.call(aliases,iAlias)||(aliases[iAlias]=bundle)}}(bundle)},require.list=function(){var list=[];for(var item in modules)has.call(modules,item)&&list.push(item);return list};var hmr=globals._hmr&&new globals._hmr((function(name,dep){return expandAlias(expand(dirname(name),dep))}),require,modules,cache);require._cache=cache,require.hmr=hmr&&hmr.wrap,require.brunch=!0,globals.require=require}}(),function(){"undefined"==typeof window||window;require.register("Http.js",(function(exports,require,module){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.parseHttpSuccess=exports.parseHttpError=void 0;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,_defineProperty2.default)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function onLoad(){return!1}var xhrProgress=mdl=>({config:xhr=>{xhr.onprogress=(mdl=>e=>{e.lengthComputable&&(mdl.state.loadingProgress.max=e.total,mdl.state.loadingProgress.value=e.loaded,m.redraw())})(mdl),xhr.onload=onLoad,xhr.onloadstart=(mdl=>e=>(mdl.state.isLoading=!0,!1))(mdl),xhr.onloadend=(mdl=>e=>(mdl.state.isLoading=!1,mdl.state.loadingProgress.max=0,mdl.state.loadingProgress.value=0,!1))(mdl)}}),parseHttpError=mdl=>rej=>e=>(mdl.state.isLoading=!1,rej(e.response.errors));exports.parseHttpError=parseHttpError;var parseHttpSuccess=mdl=>res=>data=>(mdl.state.isLoading=!1,res(data));exports.parseHttpSuccess=parseHttpSuccess;var getUserToken=()=>sessionStorage.getItem("token")?{authorization:sessionStorage.getItem("token")}:"",call=_headers=>method=>mdl=>url=>body=>!["POST","PUT","DELETE"].includes(method)||mdl.state.isLoggedIn()||["/login","/register"].includes(mdl.slug)?(mdl.state.isLoading=!0,new Task((rej,res)=>m.request(_objectSpread({method:method,url:"https://conduit.productionready.io/api/"+url,headers:_objectSpread({"content-type":"application/json"},_headers),body:body,withCredentials:!1},xhrProgress(mdl))).then(parseHttpSuccess(mdl)(res),parseHttpError(mdl)(rej)))):Task.rejected(m.route.set("/register")),_default={getTask:mdl=>url=>call(getUserToken())("GET")(mdl)(url)(null),deleteTask:mdl=>url=>call(getUserToken())("DELETE")(mdl)(url)(null),postTask:mdl=>url=>data=>call(getUserToken())("POST")(mdl)(url)(data),putTask:mdl=>url=>data=>call(getUserToken())("PUT")(mdl)(url)(data)};exports.default=_default})),require.register("Utils.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.errorViewModel=exports.sanitizeImg=exports.log=void 0;exports.log=m=>v=>(console.log(m,v),v);exports.sanitizeImg=url=>url&&url.match(/\.(jpeg|jpg|gif|png|svg)$/)?(url=>url.match(/(https)./)?url:url.replace("http","https"))(url):"https://static.productionready.io/images/smiley-cyrus.jpg";exports.errorViewModel=err=>Object.keys(err).map(k=>({key:k.toUpperCase(),values:err[k]}))})),require.register("components/articles.js",(function(exports,require,module){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Articles=void 0;var _Http=_interopRequireDefault(require("Http")),_Utils=require("Utils"),favoriteArticleUrl=slug=>"articles/".concat(slug,"/favorite"),favoriteArticleTask=http=>mdl=>slug=>http.postTask(mdl)(favoriteArticleUrl(slug))(),unFavoriteArticleTask=http=>mdl=>slug=>http.deleteTask(mdl)(favoriteArticleUrl(slug)),ArticlePreview=_ref=>{var{attrs:{mdl:mdl,article:article}}=_ref,data=article;return{view:()=>m("ion-item",{button:!0},m("ion-grid",[m("ion-row",m("ion-col",m(m.route.Link,{class:"preview-link",href:"/article/".concat(data.slug)},m("ion-text",m("h1",data.title)),m("ion-text",m("p",data.description))))),m("ion-row",m("ion-col",m("ion-list",{side:"end"},data.tagList.map(tag=>m("ion-chip",tag))))),m("ion-row",[m(m.route.Link,{href:"/profile/".concat(data.author.username),options:{replace:!0}},m("ion-avatar",{slot:"start"},m("img",{src:(0,_Utils.sanitizeImg)(data.author.image)}))),m("ion-label",m("ion-text",m("h2",data.author.username)),m("p",data.createdAt)),m("ion-chip",{onclick:e=>{return favorited=data.favorited,slug=data.slug,onError=(0,_Utils.log)("toggleArticleLike err-art"),void(favorited?unFavoriteArticleTask:favoriteArticleTask)(_Http.default)(mdl)(slug).fork(onError,_ref2=>{var{article:{favorited:favorited,favoritesCount:favoritesCount}}=_ref2;data.favorited=favorited,data.favoritesCount=favoritesCount});var favorited,slug,onError}},[m("ion-icon",{name:data.favorited?"heart-dislike-outline":"heart-outline"}),m("ion-text",data.favoritesCount)])])]))}};exports.Articles=()=>({view:_ref3=>{var{attrs:{mdl:mdl,data:data}}=_ref3;return data.articles.length?m("ion-list",{button:!0},data.articles.map(article=>m(ArticlePreview,{mdl:mdl,data:data,article:article}))):m("p","No articles are here... yet.")}})})),require.register("components/banner.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Banner=void 0;exports.Banner=()=>({view:_ref=>{var{children:children}=_ref;return m(".banner",m(".container",children))}})})),require.register("components/card.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Card=void 0;var Card={view:_ref=>{var{attrs:{options:options,header:header,content:content,footer:footer}}=_ref;return m("ion-card",options,m("ion-card-header",{translucent:!0},header),m("ion-card-content",content),m("ion-card-footer",footer))}};exports.Card=Card})),require.register("components/comments.js",(function(exports,require,module){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Comments=void 0;var _Http=_interopRequireDefault(require("Http")),_Utils=require("Utils"),_ramda=require("ramda"),getCommentsTask=http=>mdl=>slug=>http.getTask(mdl)("articles/".concat(slug,"/comments")),trimBody=(0,_ramda.over)((0,_ramda.lensProp)("body"),_ramda.trim),CommentForm=_ref=>{var{attrs:{mdl:mdl,reload:reload}}=_ref,comment={body:""},state={errors:[],disabled:!1},onError=errors=>{state.errors=(0,_Utils.errorViewModel)(errors),console.log("Error with form ",state),state.disabled=!1},onSuccess=()=>{comment.body="",state.errors=[],state.disabled=!1,reload()},submit=comment=>{return(http=_Http.default,mdl=>comment=>http.postTask(mdl)("articles/".concat(mdl.slug,"/comments"))({comment:comment}))(mdl)(trimBody(comment)).fork(onError,onSuccess);var http};return{oninit:()=>comment.body="",view:_ref2=>{var{attrs:{mdl:mdl}}=_ref2;return[m("ion-grid",m("ion-row",m("ion-col",m("ion-textarea",{rows:3,placeholder:"Write a comment ...",onchange:e=>comment.body=e.target.value,disabled:state.disabled,value:comment.body}))),m("ion-row",m("ion-col",m("ion-avatar",m("img",{src:(0,_Utils.sanitizeImg)(mdl.user.image)}))),m("ion-col",m("ion-button",{onclick:e=>{state.disabled=!0,submit(comment)}}," Post Comment ")))),state.errors.map(e=>e.values.map(err=>m("p.error-messages","".concat(e.key," ").concat(err))))]}}},Comment=()=>({view:_ref3=>{var{attrs:{mdl:mdl,comment:{author:{image:image,username:username},body:body,createdAt:createdAt,id:id},deleteComment:deleteComment}}=_ref3;return m("ion-item",m("ion-grid",m("ion-text",body),m("ion-row",m(m.route.Link,{href:"/profile/".concat(username),class:"comment-author m-5"},m("ion-avatar",m("img",{src:(0,_Utils.sanitizeImg)(image)})),m("ion-text",username)),m("ion-text",createdAt),username==mdl.user.username&&m("ion-icon",{name:"trash-outline",onclick:e=>deleteComment(id)}))))}});exports.Comments=_ref4=>{var{attrs:{mdl:mdl}}=_ref4,data={comments:[]},loadComments=mdl=>{var onError=(0,_Utils.log)("error with comments");getCommentsTask(_Http.default)(mdl)(mdl.slug).fork(onError,_ref5=>{var{comments:comments}=_ref5;return data.comments=comments})},_deleteComment=id=>{var http,onError=(0,_Utils.log)("error with comments");(http=_Http.default,mdl=>slug=>id=>http.deleteTask(mdl)("articles/".concat(slug,"/comments/").concat(id)))(mdl)(mdl.slug)(id).chain(x=>getCommentsTask(_Http.default)(mdl)(mdl.slug)).fork(onError,_ref6=>{var{comments:comments}=_ref6;return data.comments=comments})};return{oninit:_ref7=>{var{attrs:{mdl:mdl}}=_ref7;return loadComments(mdl)},view:_ref8=>{var{attrs:{mdl:mdl}}=_ref8;return m("item-list",m(CommentForm,{mdl:mdl,reload:()=>loadComments(mdl)}),data.comments.map(c=>m(Comment,{mdl:mdl,comment:c,deleteComment:id=>_deleteComment(id)})))}}}})),require.register("components/feed-nav.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FeedNav=void 0;exports.FeedNav=_ref=>{var{attrs:{fetchData:fetchData}}=_ref;return{view:_ref2=>{var{attrs:{mdl:mdl,data:data}}=_ref2;return[m("ion-toolbar",m("ion-row",m("ion-col",m("ion-button",{fill:"solid",expand:"full",id:"",color:""==data.tags.current?"primary":"secondary",onclick:e=>{data.tags.current=e.target.id,fetchData(mdl)}},"Global Feed")),mdl.state.isLoggedIn()&&m("ion-col",m("ion-button",{fill:"solid",expand:"full",id:"feed",color:"feed"==data.tags.current?"primary":"secondary",onclick:e=>{console.log("data.tags.current",e.target.id,e),data.tags.current=e.target.id,fetchData(mdl)}},"Your Feed"))),m("ion-row",m("ion-col",data.tags.selected.map(tag=>m("ion-button",{fill:"solid",size:"small",color:data.tags.current==tag?"primary":"secondary",id:tag,onclick:e=>{data.tags.current=tag,fetchData(mdl)}},m("ion-text","# ".concat(tag)))))))]}}}})),require.register("components/follow-favorite.js",(function(exports,require,module){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.FollowFavorite=void 0;var _Http=_interopRequireDefault(require("Http")),_Utils=require("Utils"),favoriteArticleUrl=slug=>"articles/".concat(slug,"/favorite"),followAuthorUrl=author=>"profiles/".concat(author,"/follow"),favoriteArticleTask=http=>mdl=>http.postTask(mdl)(favoriteArticleUrl(mdl.slug))(),unFavoriteArticleTask=http=>mdl=>http.deleteTask(mdl)(favoriteArticleUrl(mdl.slug)),followAuthorTask=http=>mdl=>author=>http.postTask(mdl)(followAuthorUrl(author))(),unFollowAuthorTask=http=>mdl=>author=>http.deleteTask(mdl)(followAuthorUrl(author));exports.FollowFavorite=_ref=>{var{attrs:{mdl:mdl,data:data}}=_ref,toggleArticleLike=_ref2=>{var{favorited:favorited}=_ref2,onError=(0,_Utils.log)("toggleArticleLike err-art");(favorited?unFavoriteArticleTask:favoriteArticleTask)(_Http.default)(mdl).fork(onError,_ref3=>{var{article:{favorited:favorited,favoritesCount:favoritesCount}}=_ref3;data.favorited=favorited,data.favoritesCount=favoritesCount})},toggleAuthorFollow=_ref4=>{var{author:{username:username,following:following}}=_ref4,onError=(0,_Utils.log)("toggleAuthorFollow, err-auth");(following?unFollowAuthorTask:followAuthorTask)(_Http.default)(mdl)(username).fork(onError,_ref5=>{var{profile:{following:following}}=_ref5;return data.author.following=following})},deleteArticle=slug=>{var http,onError=(0,_Utils.log)("deleteArticle, err-auth");(http=_Http.default,mdl=>{return http.deleteTask(mdl)((slug=mdl.slug,"articles/".concat(slug)));var slug})(mdl).fork(onError,s=>{console.log(s),m.route.set("/home")})};return{view:_ref6=>{var{attrs:{mdl:mdl,data:{author:{username:username,image:image,following:following},favoritesCount:favoritesCount,favorited:favorited,slug:slug}}}=_ref6;return m("ion-grid",m("ion-row",[m(m.route.Link,{href:"profile/".concat(username)},m("ion-chip",m("ion-avatar",m("ion-img",{src:(0,_Utils.sanitizeImg)(image)})),m("ion-text",username))),mdl.user.username==username?[m(m.route.Link,{class:"btn btn-sm btn-outline-secondary",href:"/editor/".concat(slug),selector:"button"},[m("ion-icon",{name:"edit"}),"Edit Article"]),m("ion-button",{onclick:e=>deleteArticle()},[m("ion-icon",{name:"trash-outline"}),"Delete Article "])]:[m("ion-chip",{onclick:e=>toggleAuthorFollow(data)},[m("ion-icon",{name:following?"people-circle-outline":"people-outline"}),m("ion-label","".concat(username))]),m("ion-chip",{onclick:e=>toggleArticleLike(data)},[m("ion-icon",{name:favorited?"heart-dislike-outline":"heart-outline"}),m("ion-label",favoritesCount)])]]))}}}})),require.register("components/index.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _banner=require("./banner");Object.keys(_banner).forEach((function(key){"default"!==key&&"__esModule"!==key&&(key in exports&&exports[key]===_banner[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _banner[key]}}))}));var _loader=require("./loader");Object.keys(_loader).forEach((function(key){"default"!==key&&"__esModule"!==key&&(key in exports&&exports[key]===_loader[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _loader[key]}}))}));var _paginator=require("./paginator");Object.keys(_paginator).forEach((function(key){"default"!==key&&"__esModule"!==key&&(key in exports&&exports[key]===_paginator[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _paginator[key]}}))}));var _articles=require("./articles");Object.keys(_articles).forEach((function(key){"default"!==key&&"__esModule"!==key&&(key in exports&&exports[key]===_articles[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _articles[key]}}))}));var _followFavorite=require("./follow-favorite");Object.keys(_followFavorite).forEach((function(key){"default"!==key&&"__esModule"!==key&&(key in exports&&exports[key]===_followFavorite[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _followFavorite[key]}}))}));var _comments=require("./comments");Object.keys(_comments).forEach((function(key){"default"!==key&&"__esModule"!==key&&(key in exports&&exports[key]===_comments[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _comments[key]}}))}));var _feedNav=require("./feed-nav");Object.keys(_feedNav).forEach((function(key){"default"!==key&&"__esModule"!==key&&(key in exports&&exports[key]===_feedNav[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _feedNav[key]}}))}));var _taglist=require("./taglist");Object.keys(_taglist).forEach((function(key){"default"!==key&&"__esModule"!==key&&(key in exports&&exports[key]===_taglist[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _taglist[key]}}))}));var _card=require("./card");Object.keys(_card).forEach((function(key){"default"!==key&&"__esModule"!==key&&(key in exports&&exports[key]===_card[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _card[key]}}))}));var _menu=require("./menu");Object.keys(_menu).forEach((function(key){"default"!==key&&"__esModule"!==key&&(key in exports&&exports[key]===_menu[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _menu[key]}}))}));var _sidebars=require("./sidebars");Object.keys(_sidebars).forEach((function(key){"default"!==key&&"__esModule"!==key&&(key in exports&&exports[key]===_sidebars[key]||Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _sidebars[key]}}))}))})),require.register("components/loader.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Loader=void 0;exports.Loader=()=>({view:_ref=>{var{children:children}=_ref;return m(".container",m(".banner",m(".container",children)))}})})),require.register("components/menu.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Menu=exports.MenuButton=void 0;var _core=require("@ionic/core");exports.MenuButton=()=>({view:_ref=>{var{attrs:{name:name,menuId:menuId}}=_ref;return m("ion-menu-toggle",{oncreate:_ref2=>{var{dom:dom}=_ref2;_core.menuController.enable(!0,menuId)},onclick:e=>(menuId=>{console.log(_core.menuController),_core.menuController.open(menuId).then(s=>console.log(s),e=>console.log(e))})(menuId)},m("ion-button",m("ion-icon",{name:name})))}});exports.Menu=()=>({view:_ref3=>{var{attrs:{title:title,side:side,menuId:menuId,contentId:contentId,contents:contents}}=_ref3;return m("ion-menu[main]",{side:side,menuId:menuId,contentId:contentId},[m("ion-header",m("ion-toolbar[translucent]",m("ion-title",title))),m("ion-content",contents)])}})})),require.register("components/paginator.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Paginator=void 0;exports.Paginator=()=>({view:_ref=>{var{attrs:{state:state,fetchDataFor:fetchDataFor}}=_ref,total=Math.ceil(state.total/state.limit)+1,current=state.offset/state.limit+1,range=[...Array(total).keys()].slice(1);return state.total>state.limit&&range.map((page,idx)=>m("ion-chip",{color:page==current&&"primary",onclick:e=>fetchDataFor(idx*state.limit)},page))}})})),require.register("components/sidebars.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SideBars=exports.SettingsMenu=void 0;var _menu=require("./menu"),_core=require("@ionic/core"),SettingsMenu=()=>({view:_ref=>{var{attrs:{mdl:mdl}}=_ref;return m("ion-list",[m("ion-item",m(m.route.Link,{onclick:e=>_core.menuController.toggle("settings"),href:"/settings/".concat(mdl.user.username)},[m("i.ion-gear-a.p-5"),"Settings"])),m("ion-item",m(m.route.Link,{onclick:e=>_core.menuController.toggle("settings"),href:"/profile/".concat(mdl.user.username)},mdl.user.username))])}});exports.SettingsMenu=SettingsMenu;exports.SideBars=()=>({view:_ref2=>{var{attrs:{mdl:mdl}}=_ref2;return[m(_menu.Menu,{mdl:mdl,title:"Settings",side:"start",menuId:"settings",contentId:"layout",contents:m(SettingsMenu,{mdl:mdl})}),m(_menu.Menu,{mdl:mdl,title:"Options",side:"end",menuId:"options",contentId:"layout",contents:m(SettingsMenu,{mdl:mdl})})]}})})),require.register("components/taglist.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TagList=void 0;var _ramda=require("ramda");exports.TagList=()=>({view:_ref=>{var{attrs:{data:data}}=_ref,isSelected=tag=>data.tags.selected.includes(tag)?"primary":"secondary";return[m("ion-text","Popular Tags"),data.tags.tagList.filter(tag=>!data.tags.selected.includes(tag)).map(tag=>m("ion-chip",{color:isSelected(tag),onclick:e=>((data,tag)=>data.tags.selected=(0,_ramda.uniq)(data.tags.selected.concat([tag])))(data,tag)},tag))]}})})),require.register("index.js",(function(exports,require,module){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_routes=_interopRequireDefault(require("./routes.js")),_model=_interopRequireDefault(require("./model.js")),root=document.body,winW=window.innerWidth;module.hot&&module.hot.accept(),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./service-worker.js").then(registration=>{console.log("⚙️ SW registered: ",registration)}).catch(registrationError=>{console.log("🧟 SW registration failed: ",registrationError)})});var getProfile=w=>w<668?"phone":w<920?"tablet":"desktop",checkWidth=winW=>{var w=window.innerWidth;if(winW!==w){winW=w;var lastProfile=_model.default.settings.profile;_model.default.settings.profile=getProfile(w),lastProfile!=_model.default.settings.profile&&m.redraw()}return requestAnimationFrame(checkWidth)};_model.default.settings.profile=getProfile(winW),checkWidth(winW),sessionStorage.getItem("user")&&(_model.default.user=JSON.parse(sessionStorage.getItem("user"))),m.route(root,"/home",(0,_routes.default)(_model.default))})),require.register("initialize.js",(function(exports,require,module){"use strict";document.addEventListener("DOMContentLoaded",()=>{require("./index.js")})})),require.register("layout/footer.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=()=>({view:()=>m("ion-footer",m("div",{class:"container"},[m("a",{class:"logo-font",href:"https://github.com/gothinkster/realworld"},"conduit"),m("span",{class:"attribution"},[" An interactive learning project from ",m("a",{href:"https://thinkster.io"},"Thinkster"),". Code ",m.trust("&amp;")," design licensed under MIT. "])]))});exports.default=_default})),require.register("layout/header.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _components=require("components"),_default=()=>({view:_ref=>{var{attrs:{mdl:mdl}}=_ref;return m("ion-header",m("ion-toolbar",m("ion-buttons",{slot:"start"},"/home"!==m.route.get()&&m("ion-back-button",{slot:"start",onclick:()=>history.back(),defaultHref:"/"}),mdl.state.isLoggedIn()?m(_components.MenuButton,{mdl:mdl,name:"settings"}):[m("ion-item",m(m.route.Link,{href:"/register"},"Sign up")),m("ion-item",m(m.route.Link,{href:"/login"},"Login"))],m(m.route.Link,{href:"#"},"Home")),m("ion-buttons",{slot:"end"},m(_components.MenuButton,{mdl:mdl,name:"options"}))))}});exports.default=_default})),require.register("layout/index.js",(function(exports,require,module){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _header=_interopRequireDefault(require("./header.js")),_footer=_interopRequireDefault(require("./footer.js")),_components=require("components"),_default=()=>({view:_ref=>{var{children:children,attrs:{mdl:mdl}}=_ref;return m("ion-app",m(_header.default,{mdl:mdl}),m("ion-content",{id:"layout"},children),m(_components.SideBars,{mdl:mdl}),m(_footer.default,{mdl:mdl}))}});exports.default=_default})),require.register("layout/info.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=()=>({view:()=>m("footer",m("div",{class:"container"},[m("a",{class:"logo-font",href:"https://github.com/gothinkster/realworld"},"conduit"),m("span",{class:"attribution"},[" An interactive learning project from ",m("a",{href:"https://thinkster.io"},"Thinkster"),". Code ",m.trust("&amp;")," design licensed under MIT. "])]))});exports.default=_default})),require.register("model.js",(function(exports,require,module){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={state:{isLoading:!1,loadingProgress:{max:0,value:0},isLoggedIn:()=>sessionStorage.getItem("token")},settings:{},page:"",user:{}};exports.default=_default})),require.register("pages/article.js",(function(exports,require,module){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Http=_interopRequireDefault(require("Http")),_components=require("components"),_marked=_interopRequireDefault(require("marked")),_default=()=>{var data={},state={status:"loading",error:null},onSuccess=_ref=>{var{article:article,comments:comments}=_ref;data.article=article,data.comments=comments,state.status="success"},onError=error=>{console.log("error",error),state.error=error,state.status="error"},loadData=mdl=>{var http;state.status="loading",(http=_Http.default,mdl=>slug=>http.getTask(mdl)("articles/".concat(slug)))(mdl)(mdl.slug).fork(onError,onSuccess)};return{oninit:_ref2=>{var{attrs:{mdl:mdl}}=_ref2;return loadData(mdl)},view:_ref3=>{var{attrs:{mdl:mdl}}=_ref3;return["loading"==state.status&&m(_components.Banner,[m("h1.logo-font","Loading ...")]),"error"==state.status&&m(_components.Banner,[m("h1.logo-font","Error Loading Data: ".concat(state.error))]),"success"==state.status&&[m("ion-text",m("h1",data.article.title)),m("ion-text",m.trust((0,_marked.default)(data.article.body))),m(_components.FollowFavorite,{mdl:mdl,data:data.article}),m(_components.Comments,{mdl:mdl,comments:data.comments,reloadArticle:()=>loadData(mdl)})]]}}};exports.default=_default})),require.register("pages/editor.js",(function(exports,require,module){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.submitArticleTask=exports.loadArticleTask=void 0;var _Http=_interopRequireDefault(require("Http")),_Utils=require("Utils"),_ramda=require("ramda"),loadArticleTask=http=>mdl=>slug=>http.getTask(mdl)("articles/".concat(slug));exports.loadArticleTask=loadArticleTask;(0,_ramda.over)((0,_ramda.lensProp)("tagList"),(0,_ramda.compose)(_ramda.uniq,(0,_ramda.split)(" "),_ramda.trim));var submitArticleTask=http=>mdl=>article=>http.postTask(mdl)("articles")({article:article});exports.submitArticleTask=submitArticleTask;var _default=_ref=>{var{attrs:{mdl:mdl}}=_ref,data={description:"",title:"",body:"",tagList:""},state={disabled:!1};return{oninit:_ref4=>{var{attrs:{mdl:mdl}}=_ref4;return(mdl=>{state.disabled=!1;"/editor"!==mdl.slug&&loadArticleTask(_Http.default)(mdl)(mdl.slug).fork(errors=>state.errors=(0,_Utils.errorViewModel)(errors),_ref2=>{var{article:article}=_ref2;return data=article})})(mdl)},view:()=>m(".editor-page",m(".container.page",m(".row",m(".col-md-10.offset-md-1.col-xs-12",m("form",[state.errors&&state.errors.map(e=>m(".error-messages",m("ul","".concat(e.key),e.values.map(error=>m("li",error))))),m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",disabled:state.disabled,placeholder:"Article Title",onchange:e=>data.title=e.target.value,value:data.title})),m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",disabled:state.disabled,placeholder:"What's this article about?",onchange:e=>data.description=e.target.value,value:data.description})),m("fieldset.form-group",m("textarea.form-control.form-control-lg",{rows:8,placeholder:"Write your article (in markdown)",disabled:state.disabled,onchange:e=>data.body=e.target.value,value:data.body})),m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",disabled:state.disabled,placeholder:"Enter tags",onchange:e=>data.tagList=e.target.value,value:data.tagList})),m("button.btn-lg.pull-xs-right.btn-primary",{onclick:e=>(data=>{state.disabled=!0;submitArticleTask(_Http.default)(mdl)(data).fork(errors=>{state.errors=(0,_Utils.errorViewModel)(errors),state.disabled=!1},_ref3=>{var{article:{slug:slug}}=_ref3;return m.route.set("/article/".concat(slug))})})(data)}," Publish Article ")])))))}};exports.default=_default})),require.register("pages/home.js",(function(exports,require,module){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_Http=_interopRequireDefault(require("Http")),_components=require("components");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,_defineProperty2.default)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var getArticlesTask=http=>mdl=>state=>data=>"feed"==data.tags.current?http.getTask(mdl)("articles/feed?limit=20&offset=".concat(state.offset)):http.getTask(mdl)("articles?limit=20&offset=".concat(state.offset,"&tag=").concat(data.tags.current)),_default=()=>{var data={tags:{tagList:[],selected:[],current:""},articles:{}},state={feedStatus:"loading",pageStatus:"loading",limit:20,offset:0,total:0,error:null},loadInitData=mdl=>{var http;state.pageStatus="loading",(http=_Http.default,mdl=>state=>data=>Task.of(tags=>articles=>_objectSpread(_objectSpread({},tags),articles)).ap((http=>mdl=>http.getTask(mdl)("tags"))(http)(mdl)).ap(getArticlesTask(http)(mdl)(state)(data)))(mdl)(state)(data).fork(error=>{console.log("error",error),state.error=error,state.pageStatus="error"},_ref=>{var{articles:articles,articlesCount:articlesCount,tags:tags}=_ref;data.articles=articles,state.total=articlesCount,data.tags.tagList=tags,state.pageStatus="success",state.feedStatus="success"})},loadArticles=mdl=>{state.feedStatus="loading",getArticlesTask(_Http.default)(mdl)(state)(data).fork(error=>{console.log("error",error),state.error=error,state.feedStatus="error"},_ref2=>{var{articles:articles,articlesCount:articlesCount}=_ref2;data.articles=articles,state.total=articlesCount,state.feedStatus="success"})};return{oninit:_ref3=>{var{attrs:{mdl:mdl}}=_ref3;return loadInitData(mdl)},view:_ref4=>{var{attrs:{mdl:mdl}}=_ref4;return[!mdl.state.isLoggedIn()&&m(_components.Banner,[m("h1.logo-font","conduit"),m("p","A place to share your knowledge.")]),"loading"==state.pageStatus&&m(_components.Loader,[m("h1.logo-font","Loading Data")]),"error"==state.pageStatus&&m(_components.Banner,[m("h1.logo-font","Error Loading Data: ".concat(state.error))]),"success"==state.pageStatus&&[m(_components.FeedNav,{fetchData:loadArticles,mdl:mdl,data:data}),"loading"==state.feedStatus&&m("ion-text","Loading Articles ..."),"success"==state.feedStatus&&state.total?[m(_components.Articles,{mdl:mdl,data:data}),m(_components.Paginator,{mdl:mdl,state:state,fetchDataFor:offset=>{state.offset=offset,loadArticles(mdl)}})]:m("ion-text","No articles are here... yet."),mdl.state.isLoggedIn()&&m("ion-fab",{vertical:"bottom",horizontal:"end",slot:"fixed"},m(m.route.Link,{class:"nav-link",href:"/editor"},[m("ion-fab-button",m("ion-icon",{name:"add-circle"}))])),m("",m(_components.TagList,{mdl:mdl,data:data}))]]}}};exports.default=_default})),require.register("pages/login.js",(function(exports,require,module){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.loginTask=void 0;var _Http=_interopRequireDefault(require("Http")),loginTask=http=>mdl=>user=>http.postTask(mdl)("users/login")({user:user});exports.loginTask=loginTask;var _default=()=>{var state={errors:{},disabled:!1},data={email:"",password:""};return{view:_ref2=>{var{attrs:{mdl:mdl}}=_ref2;return m("div.auth-page",m("div.container.page",m("div.row",m("div.col-md-6.offset-md-3.col-xs-12",[m("h1.text-xs-center","Login"),m("p.text-xs-center",m(m.route.Link,{href:"/register"},"Need an account?"),state.errors["email or password"]&&m(".error-messages",m("span","email or password  ".concat(state.errors["email or password"])))),m("form",[m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",disabled:state.disabled,placeholder:"email",onchange:e=>data.email=e.target.value,value:data.email,onblur:e=>state.isSubmitted&&validate}),state.errors.email&&m(".error-messages",m("span",state.errors.email))),m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"password",disabled:state.disabled,placeholder:"password",onchange:e=>data.password=e.target.value,value:data.password,onblur:e=>state.isSubmitted&&validate})),m("button.btn.btn-lg.btn-primary.pull-xs-right",{type:"submit",onclick:e=>((mdl,e)=>{e.preventDefault(),state.disabled=!0;loginTask(_Http.default)(mdl)(data).fork(errors=>{state.errors=errors,state.disabled=!1,console.log(state.errors)},_ref=>{var{user:user}=_ref;sessionStorage.setItem("token","Token ".concat(user.token)),sessionStorage.setItem("user",JSON.stringify(user)),mdl.user=user,state.disabled=!1,m.route.set("/home")})})(mdl,e)},"Login")])]))))}}};exports.default=_default})),require.register("pages/profile.js",(function(exports,require,module){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.loadInitDataTask=exports.loadDataTask=void 0;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_Http=_interopRequireDefault(require("Http")),_Utils=require("Utils"),_components=require("components");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,_defineProperty2.default)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var followAuthorUrl=author=>"profiles/".concat(author,"/follow"),followAuthorTask=http=>mdl=>author=>http.postTask(mdl)(followAuthorUrl(author))(),unFollowAuthorTask=http=>mdl=>author=>http.deleteTask(mdl)(followAuthorUrl(author)),getAuthorArticlesTask=http=>mdl=>state=>username=>http.getTask(mdl)("articles?limit=".concat(state.limit,"&offset=").concat(state.offset,"&author=").concat(username)),loadDataTask=http=>mdl=>state=>state.showFaveArticles?(http=>mdl=>state=>username=>http.getTask(mdl)("articles?limit=".concat(state.limit,"&offset=").concat(state.offset,"&favorited=").concat(username)))(http)(mdl)(state)(mdl.slug):getAuthorArticlesTask(http)(mdl)(state)(mdl.slug);exports.loadDataTask=loadDataTask;var loadInitDataTask=http=>mdl=>state=>Task.of(profile=>authorArticles=>_objectSpread(_objectSpread({},profile),{},{authorArticles:authorArticles})).ap((http=>mdl=>username=>http.getTask(mdl)("profiles/".concat(username)))(http)(mdl)(mdl.slug)).ap(getAuthorArticlesTask(http)(mdl)(state)(mdl.slug));exports.loadInitDataTask=loadInitDataTask;var _default=_ref=>{var{attrs:{mdl:mdl}}=_ref,data={authorArticles:{articles:[],articlesCount:0},authorFavoriteArticles:{articles:[],articlesCount:0}},state={pageStatus:"loading",feedStatus:"loading",showFaveArticles:!1,limit:5,offset:0,total:0,error:null},loadData=mdl=>{state.feedStatus="loading",loadDataTask(_Http.default)(mdl)(state).fork(error=>{console.log("error",error),state.error=error,state.feedStatus="error"},result=>{state.showFaveArticles?data.authorFavoriteArticles=result:data.authorArticles=result,state.total=state.showFaveArticles?data.authorFavoriteArticles.articlesCount:data.authorArticles.articlesCount,state.feedStatus="success"})},selectFeed=toShowFaveArticles=>{state.showFaveArticles=toShowFaveArticles,state.offset=0,loadData(mdl)},toggleAuthorFollow=_ref3=>{var{author:{username:username,following:following}}=_ref3,onError=(0,_Utils.log)("toggleAuthorFollow, err-auth");(following?unFollowAuthorTask:followAuthorTask)(_Http.default)(mdl)(username).fork(onError,_ref4=>{var{profile:{following:following}}=_ref4;return data.profile.following=following})};return{oninit:_ref5=>{var{attrs:{mdl:mdl}}=_ref5;return(mdl=>{state.pageStatus="loading",loadInitDataTask(_Http.default)(mdl)(state).fork(error=>{console.log("error",error),state.error=error,state.pageStatus="error",m.route.set("/home")},_ref2=>{var{authorArticles:authorArticles,profile:profile}=_ref2;data.authorArticles=authorArticles,data.profile=profile,state.pageStatus="success",state.feedStatus="success",state.total=data.authorArticles.articlesCount})})(mdl)},view:_ref6=>{var{attrs:{mdl:mdl}}=_ref6;return m(".profile-page","loading"==state.pageStatus&&m(_components.Loader,[m("h1.logo-font","Loading ...")]),"error"==state.pageStatus&&m(_components.Banner,[m("h1.logo-font","Error Loading Data: ".concat(state.error))]),"success"==state.pageStatus&&[m(".user-info",m(".container",m(".row",m(".col-xs-12.col-md-10.offset-md-1",[m("img.user-img",{src:(0,_Utils.sanitizeImg)(data.profile.image)}),m("h4",data.profile.username),m("p",data.profile.bio),data.profile.username!==mdl.user.username?m("button.btn.btn-sm.btn-outline-secondary.action-btn",{onclick:e=>{toggleAuthorFollow({author:{username:data.profile.username,following:data.profile.following}})}},[data.profile.following?[m("i.ion-minus-round")," Unfollow ".concat(data.profile.username," ")]:[m("i.ion-plus-round")," Follow ".concat(data.profile.username," ")]]):m("button.btn.btn-sm.btn-outline-secondary.action-btn",{onclick:e=>m.route.set("/settings/".concat(data.profile.username))},[m("i.ion-gear-a.p-5"),"Edit Profile Settings"])])))),m(".container",m(".row",m(".col-xs-12.col-md-10.offset-md-1",[m(".articles-toggle",m("ul.nav.nav-pills.outline-active",[m("li.nav-item",m("a.nav-link ".concat(!state.showFaveArticles&&"active"),{onclick:e=>selectFeed(!1)},"My Articles")),m("li.nav-item",m("a.nav-link ".concat(state.showFaveArticles&&"active"),{onclick:e=>selectFeed(!0)},"Favorited Articles"))])),"loading"==state.feedStatus&&"Loading Articles...","error"==state.feedStatus&&m(_components.Banner,[m("h1.logo-font","Error Loading Data: ".concat(state.error))]),"success"==state.feedStatus&&[state.showFaveArticles?m(_components.Articles,{mdl:mdl,data:data.authorFavoriteArticles}):m(_components.Articles,{mdl:mdl,data:data.authorArticles}),m(_components.Paginator,{mdl:mdl,state:state,fetchDataFor:offset=>{state.offset=offset,loadData(mdl)}})]])))])}}};exports.default=_default})),require.register("pages/register.js",(function(exports,require,module){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Http=_interopRequireDefault(require("Http")),_Utils=require("Utils"),_default=()=>{var state={errors:[],disabled:!1},data={username:"",email:"",password:""};return{view:_ref2=>{var{attrs:{mdl:mdl}}=_ref2;return m(".auth-page",m(".container.page",m(".row",m(".col-md-6.offset-md-3.col-xs-12",[m("h1.text-xs-center","Sign Up"),m("p.text-xs-center",m(m.route.Link,{href:"/login"},"Have an account?")),state.errors&&state.errors.map(e=>m(".error-messages",m("ul","".concat(e.key),e.values.map(error=>m("li",error))))),m("form",[m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",disabled:state.disabled,placeholder:"Your Name",onchange:e=>data.username=e.target.value,value:data.username})),m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",disabled:state.disabled,placeholder:"email",onchange:e=>data.email=e.target.value,value:data.email})),m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"password",disabled:state.disabled,placeholder:"password",onchange:e=>data.password=e.target.value,value:data.password})),m("button.btn.btn-lg.btn-primary.pull-xs-right",{type:"submit",onclick:e=>((mdl,e)=>{e.preventDefault(),console.log(mdl),state.disabled=!0;var http;state.isSubmitted=!0,(http=_Http.default,mdl=>user=>http.postTask(mdl)("users")({user:user}))(mdl)(data).fork(errors=>{state.disabled=!1,state.errors=(0,_Utils.errorViewModel)(errors)},_ref=>{var{user:user}=_ref;mdl.user=user,sessionStorage.setItem("token","Token ".concat(user.token)),sessionStorage.setItem("user",JSON.stringify(user)),state.disabled=!1,m.route.set("/home"),console.log("success",user)})})(mdl,e)},"Sign Up")])]))))}}};exports.default=_default})),require.register("pages/user.js",(function(exports,require,module){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Http=_interopRequireDefault(require("Http")),_Utils=require("Utils"),_default=_ref=>{var{attrs:{mdl:{user:{image:image,username:username,password:password,bio:bio,email:email}}}}=_ref,data={image:image,username:username,password:password,bio:bio,email:email};return{view:_ref3=>{var{attrs:{mdl:mdl}}=_ref3;return m(".settings-page",m(".container.page",m(".row",m(".col-md-6.offset-md-3.col-xs-12",[m("h1.text-xs-center","Your Settings"),m("form",m("fieldset",[m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",placeholder:"URL of profile picture",onchange:e=>data.image=e.target.value,value:data.image})),m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",placeholder:"Your Name",onchange:e=>data.username=e.target.value,value:data.username})),m("fieldset.form-group",m("textarea.form-control.form-control-lg",{placeholder:"Short bio about you",onchange:e=>data.bio=e.target.value,value:data.bio})),m("fieldset.form-group",m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",placeholder:"Email",onchange:e=>data.email=e.target.value,value:data.email}))),m("fieldset.form-group",m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"password",placeholder:"Password",onchange:e=>data.password=e.target.value,value:data.password}))),m("button.btn.btn-lg.btn-primary.pull-xs-right",{onclick:e=>((mdl,data)=>{var http,onError=(0,_Utils.log)("error");(http=_Http.default,mdl=>data=>http.putTask(mdl)("user")(data))(mdl)(data).fork(onError,_ref2=>{var{user:user}=_ref2;sessionStorage.setItem("user",JSON.stringify(user)),mdl.user=user,console.log(mdl.user),m.route.set("/home")})})(mdl,data)}," Update Settings "),m("button.btn.btn-outline-danger.pull-xs-right",{onclick:e=>(sessionStorage.clear(),void m.route.set("/home"))},"Or click here to logout.")]))]))))}}};exports.default=_default})),require.register("routes.js",(function(exports,require,module){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _index=_interopRequireDefault(require("./layout/index")),_home=_interopRequireDefault(require("./pages/home")),_article=_interopRequireDefault(require("./pages/article")),_profile=_interopRequireDefault(require("./pages/profile")),_register=_interopRequireDefault(require("./pages/register")),_login=_interopRequireDefault(require("./pages/login")),_user=_interopRequireDefault(require("./pages/user")),_editor=_interopRequireDefault(require("./pages/editor")),_default=mdl=>({"/home":{onmatch:(_,b)=>{mdl.slug=b},render:()=>m(_index.default,{mdl:mdl},m(_home.default,{mdl:mdl}))},"/editor":{onmatch:(_,b)=>{mdl.slug=b},render:()=>m(_index.default,{mdl:mdl},m(_editor.default,{mdl:mdl,key:mdl.slug}))},"/editor/:slug":{onmatch:_ref=>{var{slug:slug}=_ref;mdl.slug=slug},render:()=>m(_index.default,{mdl:mdl},m(_editor.default,{mdl:mdl}))},"/article/:slug":{onmatch:_ref2=>{var{slug:slug}=_ref2;mdl.slug=slug},render:()=>m(_index.default,{mdl:mdl},m(_article.default,{mdl:mdl}))},"/profile/:slug":{onmatch:_ref3=>{var{slug:slug}=_ref3;mdl.slug=slug},render:()=>m(_index.default,{mdl:mdl},m(_profile.default,{mdl:mdl,key:mdl.slug}))},"/settings/:slug":{onmatch:_ref4=>{var{slug:slug}=_ref4;mdl.slug=slug},render:()=>m(_index.default,{mdl:mdl},m(_user.default,{mdl:mdl,key:mdl.slug}))},"/login":{onmatch:(_,b)=>{mdl.slug=b},render:()=>m(_index.default,{mdl:mdl},m(_login.default,{mdl:mdl}))},"/register":{onmatch:(_,b)=>{mdl.slug=b},render:()=>m(_index.default,{mdl:mdl},m(_register.default,{mdl:mdl}))}});exports.default=_default})),require.alias("process/browser.js","process"),require("process"),require.register("___globals___",(function(exports,require,module){window.m=require("mithril"),window.Task=require("data.task")}))}(),require("___globals___"),require("initialize");

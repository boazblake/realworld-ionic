!function(){"use strict";var e="undefined"==typeof global?self:global;if("function"!=typeof e.require){var t={},r={},n={},o={}.hasOwnProperty,i=/^\.\.?(\/|$)/,u=function(e,t){for(var r,n=[],o=(i.test(t)?e+"/"+t:t).split("/"),u=0,a=o.length;u<a;u++)".."===(r=o[u])?n.pop():"."!==r&&""!==r&&n.push(r);return n.join("/")},a=function(e){return e.split("/").slice(0,-1).join("/")},s=function(t,n){var o,i={id:t,exports:{},hot:d&&d.createHot(t)};return r[t]=i,n(i.exports,(o=t,function(t){var r=u(a(o),t);return e.require(r,o)}),i),i.exports},c=function(e){var t=n[e];return t&&e!==t?c(t):e},l=function(e,n){null==n&&(n="/");var i=c(e);if(o.call(r,i))return r[i].exports;if(o.call(t,i))return s(i,t[i]);throw new Error("Cannot find module '"+e+"' from '"+n+"'")};l.alias=function(e,t){n[t]=e};var f=/\.[^.\/]+$/,m=/\/index(\.[^\/]+)?$/;l.register=l.define=function(e,i){if(e&&"object"==typeof e)for(var u in e)o.call(e,u)&&l.register(u,e[u]);else t[e]=i,delete r[e],function(e){if(f.test(e)){var t=e.replace(f,"");o.call(n,t)&&n[t].replace(f,"")!==t+"/index"||(n[t]=e)}if(m.test(e)){var r=e.replace(m,"");o.call(n,r)||(n[r]=e)}}(e)},l.list=function(){var e=[];for(var r in t)o.call(t,r)&&e.push(r);return e};var d=e._hmr&&new e._hmr((function(e,t){return c(u(a(e),t))}),l,t,r);l._cache=r,l.hmr=d&&d.wrap,l.brunch=!0,e.require=l}}(),function(){"undefined"==typeof window||window;require.register("Http.js",(function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parseHttpSuccess=e.parseHttpError=void 0;function u(){return!1}var a=function(e){return{config:function(t){t.onprogress=function(e){return function(t){t.lengthComputable&&(e.state.loadingProgress.max=t.total,e.state.loadingProgress.value=t.loaded,m.redraw())}}(e),t.onload=u,t.onloadstart=function(e){return function(t){return e.state.isLoading=!0,!1}}(e),t.onloadend=function(e){return function(t){return e.state.isLoading=!1,e.state.loadingProgress.max=0,e.state.loadingProgress.value=0,!1}}(e)}}},s=function(e){return function(t){return function(r){return e.state.isLoading=!1,t(r.response.errors)}}};e.parseHttpError=s;var c=function(e){return function(t){return function(r){return e.state.isLoading=!1,t(r)}}};e.parseHttpSuccess=c;var l=function(){return sessionStorage.getItem("token")?{authorization:sessionStorage.getItem("token")}:""},f=function(e){return function(t){return function(r){return function(n){return function(i){return!["POST","PUT","DELETE"].includes(t)||r.state.isLoggedIn()||["/login","/register"].includes(r.slug)?(r.state.isLoading=!0,new Task((function(u,l){return m.request(o({method:t,url:"https://conduit.productionready.io/api/"+n,headers:o({"content-type":"application/json"},e),body:i,withCredentials:!1},a(r))).then(c(r)(l),s(r)(u))}))):Task.rejected(m.route.set("/register"))}}}}},d={getTask:function(e){return function(t){return f(l())("GET")(e)(t)(null)}},deleteTask:function(e){return function(t){return f(l())("DELETE")(e)(t)(null)}},postTask:function(e){return function(t){return function(r){return f(l())("POST")(e)(t)(r)}}},putTask:function(e){return function(t){return function(r){return f(l())("PUT")(e)(t)(r)}}}};e.default=d})),require.register("Utils.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.errorViewModel=e.sanitizeImg=e.log=void 0;e.log=function(e){return function(t){return console.log(e,t),t}};e.sanitizeImg=function(e){return e&&e.match(/\.(jpeg|jpg|gif|png|svg)$/)?function(e){return e.match(/(https)./)?e:e.replace("http","https")}(e):"https://static.productionready.io/images/smiley-cyrus.jpg"};e.errorViewModel=function(e){return Object.keys(e).map((function(t){return{key:t.toUpperCase(),values:e[t]}}))}})),require.register("components/articles.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Articles=void 0;var n,o=(n=t("Http"))&&n.__esModule?n:{default:n},i=t("Utils");var u=function(e){return"articles/".concat(e,"/favorite")},a=function(e){return function(t){return function(r){return e.postTask(t)(u(r))()}}},s=function(e){return function(t){return function(r){return e.deleteTask(t)(u(r))}}},c=function(e){var t=e.attrs,r=t.mdl,n=t.article;return{view:function(){return m("ion-item",{button:!0},m("ion-grid",[m("ion-row",m("ion-col",m(m.route.Link,{class:"preview-link",href:"/article/".concat(n.slug)},m("ion-text",m("h1",n.title)),m("ion-text",m("p",n.description))))),m("ion-row",m("ion-col",m("ion-list",{side:"end"},n.tagList.map((function(e){return m("ion-chip",e)}))))),m("ion-row",[m(m.route.Link,{href:"/profile/".concat(n.author.username),options:{replace:!0}},m("ion-avatar",{slot:"start"},m("img",{src:(0,i.sanitizeImg)(n.author.image)}))),m("ion-label",m("ion-text",m("h2",n.author.username)),m("p",n.createdAt)),m("ion-chip",{onclick:function(e){return t=n.favorited,u=n.slug,c=(0,i.log)("toggleArticleLike err-art"),void(t?s:a)(o.default)(r)(u).fork(c,(function(e){var t=e.article,r=t.favorited,o=t.favoritesCount;n.favorited=r,n.favoritesCount=o}));var t,u,c}},[m("ion-icon",{name:n.favorited?"heart-dislike-outline":"heart-outline"}),m("ion-text",n.favoritesCount)])])]))}}};e.Articles=function(){return{view:function(e){var t=e.attrs,r=t.mdl,n=t.data;return n.articles.length?m("ion-list",{button:!0},n.articles.map((function(e){return m(c,{mdl:r,data:n,article:e})}))):m("p","No articles are here... yet.")}}}})),require.register("components/banner.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Banner=void 0;e.Banner=function(){return{view:function(e){var t=e.children;return m(".banner",m(".container",t))}}}})),require.register("components/card.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Card=void 0;var n={view:function(e){var t=e.attrs,r=t.options,n=t.header,o=t.content,i=t.footer;return m("ion-card",r,m("ion-card-header",{translucent:!0},n),m("ion-card-content",o),m("ion-card-footer",i))}};e.Card=n})),require.register("components/comments.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Comments=void 0;var n,o=(n=t("Http"))&&n.__esModule?n:{default:n},i=t("Utils"),u=t("ramda");var a=function(e){return function(t){return function(r){return e.getTask(t)("articles/".concat(r,"/comments"))}}},s=(0,u.over)((0,u.lensProp)("body"),u.trim),c=function(e){var t=e.attrs,r=t.mdl,n=t.reload,u={body:""},a={errors:[],disabled:!1},c=function(e){a.errors=(0,i.errorViewModel)(e),console.log("Error with form ",a),a.disabled=!1},l=function(){u.body="",a.errors=[],a.disabled=!1,n()},f=function(e){return(t=o.default,function(e){return function(r){return t.postTask(e)("articles/".concat(e.slug,"/comments"))({comment:r})}})(r)(s(e)).fork(c,l);var t};return{oninit:function(){return u.body=""},view:function(e){var t=e.attrs.mdl;return[m("ion-grid",m("ion-row",m("ion-col",m("ion-textarea",{rows:3,placeholder:"Write a comment ...",onchange:function(e){return u.body=e.target.value},disabled:a.disabled,value:u.body}))),m("ion-row",m("ion-col",m("ion-avatar",m("img",{src:(0,i.sanitizeImg)(t.user.image)}))),m("ion-col",m("ion-button",{onclick:function(e){a.disabled=!0,f(u)}}," Post Comment ")))),a.errors.map((function(e){return e.values.map((function(t){return m("p.error-messages","".concat(e.key," ").concat(t))}))}))]}}},l=function(){return{view:function(e){var t=e.attrs,r=t.mdl,n=t.comment,o=n.author,u=o.image,a=o.username,s=n.body,c=n.createdAt,l=n.id,f=t.deleteComment;return m("ion-item",m("ion-grid",m("ion-text",s),m("ion-row",m(m.route.Link,{href:"/profile/".concat(a),class:"comment-author m-5"},m("ion-avatar",m("img",{src:(0,i.sanitizeImg)(u)})),m("ion-text",a)),m("ion-text",c),a==r.user.username&&m("ion-icon",{name:"trash-outline",onclick:function(e){return f(l)}}))))}}};e.Comments=function(e){var t=e.attrs.mdl,r={comments:[]},n=function(e){var t=(0,i.log)("error with comments");a(o.default)(e)(e.slug).fork(t,(function(e){var t=e.comments;return r.comments=t}))},u=function(e){var n,u=(0,i.log)("error with comments");(n=o.default,function(e){return function(t){return function(r){return n.deleteTask(e)("articles/".concat(t,"/comments/").concat(r))}}})(t)(t.slug)(e).chain((function(e){return a(o.default)(t)(t.slug)})).fork(u,(function(e){var t=e.comments;return r.comments=t}))};return{oninit:function(e){var t=e.attrs.mdl;return n(t)},view:function(e){var t=e.attrs.mdl;return m("item-list",m(c,{mdl:t,reload:function(){return n(t)}}),r.comments.map((function(e){return m(l,{mdl:t,comment:e,deleteComment:function(e){return u(e)}})})))}}}})),require.register("components/feed-nav.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeedNav=void 0;e.FeedNav=function(e){var t=e.attrs.fetchData;return{view:function(e){var r=e.attrs,n=r.mdl,o=r.data;return[m("ion-toolbar",m("ion-row",m("ion-col",m("ion-button",{fill:"solid",expand:"full",id:"",color:""==o.tags.current?"primary":"secondary",onclick:function(e){o.tags.current=e.target.id,t(n)}},"Global Feed")),n.state.isLoggedIn()&&m("ion-col",m("ion-button",{fill:"solid",expand:"full",id:"feed",color:"feed"==o.tags.current?"primary":"secondary",onclick:function(e){console.log("data.tags.current",e.target.id,e),o.tags.current=e.target.id,t(n)}},"Your Feed"))),m("ion-row",m("ion-col",o.tags.selected.map((function(e){return m("ion-button",{fill:"solid",size:"small",color:o.tags.current==e?"primary":"secondary",id:e,onclick:function(r){o.tags.current=e,t(n)}},m("ion-text","# ".concat(e)))})))))]}}}})),require.register("components/follow-favorite.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FollowFavorite=void 0;var n,o=(n=t("Http"))&&n.__esModule?n:{default:n},i=t("Utils");var u=function(e){return"articles/".concat(e,"/favorite")},a=function(e){return"profiles/".concat(e,"/follow")},s=function(e){return function(t){return e.postTask(t)(u(t.slug))()}},c=function(e){return function(t){return e.deleteTask(t)(u(t.slug))}},l=function(e){return function(t){return function(r){return e.postTask(t)(a(r))()}}},f=function(e){return function(t){return function(r){return e.deleteTask(t)(a(r))}}};e.FollowFavorite=function(e){var t=e.attrs,r=t.mdl,n=t.data,u=function(e){var t=e.favorited,u=(0,i.log)("toggleArticleLike err-art");(t?c:s)(o.default)(r).fork(u,(function(e){var t=e.article,r=t.favorited,o=t.favoritesCount;n.favorited=r,n.favoritesCount=o}))},a=function(e){var t=e.author,u=t.username,a=t.following,s=(0,i.log)("toggleAuthorFollow, err-auth");(a?f:l)(o.default)(r)(u).fork(s,(function(e){var t=e.profile.following;return n.author.following=t}))},d=function(e){var t,n=(0,i.log)("deleteArticle, err-auth");(t=o.default,function(e){return t.deleteTask(e)((r=e.slug,"articles/".concat(r)));var r})(r).fork(n,(function(e){console.log(e),m.route.set("/home")}))};return{view:function(e){var t=e.attrs,r=t.mdl,o=t.data,s=o.author,c=s.username,l=s.image,f=s.following,g=o.favoritesCount,p=o.favorited,v=o.slug;return m("ion-grid",m("ion-row",[m(m.route.Link,{href:"profile/".concat(c)},m("ion-chip",m("ion-avatar",m("ion-img",{src:(0,i.sanitizeImg)(l)})),m("ion-text",c))),r.user.username==c?[m(m.route.Link,{class:"btn btn-sm btn-outline-secondary",href:"/editor/".concat(v),selector:"button"},[m("ion-icon",{name:"edit"}),"Edit Article"]),m("ion-button",{onclick:function(e){return d()}},[m("ion-icon",{name:"trash-outline"}),"Delete Article "])]:[m("ion-chip",{onclick:function(e){return a(n)}},[m("ion-icon",{name:f?"people-circle-outline":"people-outline"}),m("ion-label","".concat(c))]),m("ion-chip",{onclick:function(e){return u(n)}},[m("ion-icon",{name:p?"heart-dislike-outline":"heart-outline"}),m("ion-label",g)])]]))}}}})),require.register("components/index.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("./banner");Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}));var o=t("./loader");Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))}));var i=t("./paginator");Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===i[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}}))}));var u=t("./articles");Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===u[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}}))}));var a=t("./follow-favorite");Object.keys(a).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===a[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}}))}));var s=t("./comments");Object.keys(s).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===s[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}}))}));var c=t("./feed-nav");Object.keys(c).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===c[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}}))}));var l=t("./taglist");Object.keys(l).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===l[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}}))}));var f=t("./card");Object.keys(f).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===f[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}}))}));var m=t("./menu");Object.keys(m).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===m[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return m[t]}}))}));var d=t("./sidebars");Object.keys(d).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===d[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}}))}))})),require.register("components/loader.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Loader=void 0;e.Loader=function(){return{view:function(e){var t=e.children;return m(".container",m(".banner",m(".container",t)))}}}})),require.register("components/menu.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Menu=e.MenuButton=void 0;var n=t("@ionic/core");e.MenuButton=function(){return{view:function(e){var t=e.attrs,r=t.name,o=t.menuId;return m("ion-menu-toggle",{oncreate:function(e){e.dom;n.menuController.enable(!0,o)},onclick:function(e){return function(e){console.log(n.menuController),n.menuController.open(e).then((function(e){return console.log(e)}),(function(e){return console.log(e)}))}(o)}},m("ion-button",m("ion-icon",{name:r})))}}};e.Menu=function(){return{view:function(e){var t=e.attrs,r=t.title,n=t.side,o=t.menuId,i=t.contentId,u=t.contents;return m("ion-menu[main]",{side:n,menuId:o,contentId:i},[m("ion-header",m("ion-toolbar[translucent]",m("ion-title",r))),m("ion-content",u)])}}}})),require.register("components/paginator.js",(function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.Paginator=void 0;e.Paginator=function(){return{view:function(e){var t=e.attrs,r=t.state,o=t.fetchDataFor,i=Math.ceil(r.total/r.limit)+1,u=r.offset/r.limit+1,a=n(Array(i).keys()).slice(1);return r.total>r.limit&&a.map((function(e,t){return m("ion-chip",{color:e==u&&"primary",onclick:function(e){return o(t*r.limit)}},e)}))}}}})),require.register("components/sidebars.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SideBars=e.SettingsMenu=void 0;var n=t("./menu"),o=t("@ionic/core"),i=function(){return{view:function(e){var t=e.attrs.mdl;return m("ion-list",[m("ion-item",m(m.route.Link,{onclick:function(e){return o.menuController.toggle("settings")},href:"/settings/".concat(t.user.username)},[m("i.ion-gear-a.p-5"),"Settings"])),m("ion-item",m(m.route.Link,{onclick:function(e){return o.menuController.toggle("settings")},href:"/profile/".concat(t.user.username)},t.user.username))])}}};e.SettingsMenu=i;e.SideBars=function(){return{view:function(e){var t=e.attrs.mdl;return[m(n.Menu,{mdl:t,title:"Settings",side:"start",menuId:"settings",contentId:"layout",contents:m(i,{mdl:t})}),m(n.Menu,{mdl:t,title:"Options",side:"end",menuId:"options",contentId:"layout",contents:m(i,{mdl:t})})]}}}})),require.register("components/taglist.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TagList=void 0;var n=t("ramda");e.TagList=function(){return{view:function(e){var t=e.attrs.data,r=function(e){return t.tags.selected.includes(e)?"primary":"secondary"};return[m("ion-text","Popular Tags"),t.tags.tagList.filter((function(e){return!t.tags.selected.includes(e)})).map((function(e){return m("ion-chip",{color:r(e),onclick:function(r){return function(e,t){return e.tags.selected=(0,n.uniq)(e.tags.selected.concat([t]))}(t,e)}},e)}))]}}}})),require.register("index.js",(function(e,t,r){"use strict";var n=i(t("./routes.js")),o=i(t("./model.js"));function i(e){return e&&e.__esModule?e:{default:e}}var u=document.body,a=window.innerWidth;r.hot&&r.hot.accept(),"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("./service-worker.js").then((function(e){console.log("⚙️ SW registered: ",e)})).catch((function(e){console.log("🧟 SW registration failed: ",e)}))}));var s=function(e){return e<668?"phone":e<920?"tablet":"desktop"};o.default.settings.profile=s(a),function e(t){var r=window.innerWidth;if(t!==r){t=r;var n=o.default.settings.profile;o.default.settings.profile=s(r),n!=o.default.settings.profile&&m.redraw()}return requestAnimationFrame(e)}(a),sessionStorage.getItem("user")&&(o.default.user=JSON.parse(sessionStorage.getItem("user"))),m.route(u,"/home",(0,n.default)(o.default))})),require.register("initialize.js",(function(e,t,r){"use strict";document.addEventListener("DOMContentLoaded",(function(){t("./index.js")}))})),require.register("layout/footer.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){return{view:function(){return m("ion-footer",m("div",{class:"container"},[m("a",{class:"logo-font",href:"https://github.com/gothinkster/realworld"},"conduit"),m("span",{class:"attribution"},[" An interactive learning project from ",m("a",{href:"https://thinkster.io"},"Thinkster"),". Code ",m.trust("&amp;")," design licensed under MIT. "])]))}}};e.default=n})),require.register("layout/header.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t("components"),o=function(){return{view:function(e){var t=e.attrs.mdl;return m("ion-header",m("ion-toolbar",m("ion-buttons",{slot:"start"},"/home"!==m.route.get()&&m("ion-back-button",{slot:"start",onclick:function(){return history.back()},defaultHref:"/"}),t.state.isLoggedIn()?m(n.MenuButton,{mdl:t,name:"settings"}):[m("ion-item",m(m.route.Link,{href:"/register"},"Sign up")),m("ion-item",m(m.route.Link,{href:"/login"},"Login"))],m(m.route.Link,{href:"#"},"Home")),m("ion-buttons",{slot:"end"},m(n.MenuButton,{mdl:t,name:"options"}))))}}};e.default=o})),require.register("layout/index.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(t("./header.js")),o=u(t("./footer.js")),i=t("components");function u(e){return e&&e.__esModule?e:{default:e}}var a=function(){return{view:function(e){var t=e.children,r=e.attrs.mdl;return m("ion-app",m(n.default,{mdl:r}),m("ion-content",{id:"layout"},t),m(i.SideBars,{mdl:r}),m(o.default,{mdl:r}))}}};e.default=a})),require.register("layout/info.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){return{view:function(){return m("footer",m("div",{class:"container"},[m("a",{class:"logo-font",href:"https://github.com/gothinkster/realworld"},"conduit"),m("span",{class:"attribution"},[" An interactive learning project from ",m("a",{href:"https://thinkster.io"},"Thinkster"),". Code ",m.trust("&amp;")," design licensed under MIT. "])]))}}};e.default=n})),require.register("model.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={state:{isLoading:!1,loadingProgress:{max:0,value:0},isLoggedIn:function(){return sessionStorage.getItem("token")}},settings:{},page:"",user:{}};e.default=n})),require.register("pages/article.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(t("Http")),o=t("components"),i=u(t("marked"));function u(e){return e&&e.__esModule?e:{default:e}}var a=function(){var e={},t={status:"loading",error:null},r=function(r){var n=r.article,o=r.comments;e.article=n,e.comments=o,t.status="success"},u=function(e){console.log("error",e),t.error=e,t.status="error"},a=function(e){var o;t.status="loading",(o=n.default,function(e){return function(t){return o.getTask(e)("articles/".concat(t))}})(e)(e.slug).fork(u,r)};return{oninit:function(e){var t=e.attrs.mdl;return a(t)},view:function(r){var n=r.attrs.mdl;return["loading"==t.status&&m(o.Banner,[m("h1.logo-font","Loading ...")]),"error"==t.status&&m(o.Banner,[m("h1.logo-font","Error Loading Data: ".concat(t.error))]),"success"==t.status&&[m("ion-text",m("h1",e.article.title)),m("ion-text",m.trust((0,i.default)(e.article.body))),m(o.FollowFavorite,{mdl:n,data:e.article}),m(o.Comments,{mdl:n,comments:e.comments,reloadArticle:function(){return a(n)}})]]}}};e.default=a})),require.register("pages/editor.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.submitArticleTask=e.loadArticleTask=void 0;var n,o=(n=t("Http"))&&n.__esModule?n:{default:n},i=t("Utils"),u=t("ramda");var a=function(e){return function(t){return function(r){return e.getTask(t)("articles/".concat(r))}}};e.loadArticleTask=a;(0,u.over)((0,u.lensProp)("tagList"),(0,u.compose)(u.uniq,(0,u.split)(" "),u.trim));var s=function(e){return function(t){return function(r){return e.postTask(t)("articles")({article:r})}}};e.submitArticleTask=s;var c=function(e){var t=e.attrs.mdl,r={description:"",title:"",body:"",tagList:""},n={disabled:!1};return{oninit:function(e){return function(e){n.disabled=!1;"/editor"!==e.slug&&a(o.default)(e)(e.slug).fork((function(e){return n.errors=(0,i.errorViewModel)(e)}),(function(e){var t=e.article;return r=t}))}(e.attrs.mdl)},view:function(){return m(".editor-page",m(".container.page",m(".row",m(".col-md-10.offset-md-1.col-xs-12",m("form",[n.errors&&n.errors.map((function(e){return m(".error-messages",m("ul","".concat(e.key),e.values.map((function(e){return m("li",e)}))))})),m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",disabled:n.disabled,placeholder:"Article Title",onchange:function(e){return r.title=e.target.value},value:r.title})),m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",disabled:n.disabled,placeholder:"What's this article about?",onchange:function(e){return r.description=e.target.value},value:r.description})),m("fieldset.form-group",m("textarea.form-control.form-control-lg",{rows:8,placeholder:"Write your article (in markdown)",disabled:n.disabled,onchange:function(e){return r.body=e.target.value},value:r.body})),m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",disabled:n.disabled,placeholder:"Enter tags",onchange:function(e){return r.tagList=e.target.value},value:r.tagList})),m("button.btn-lg.pull-xs-right.btn-primary",{onclick:function(e){return function(e){n.disabled=!0;s(o.default)(t)(e).fork((function(e){n.errors=(0,i.errorViewModel)(e),n.disabled=!1}),(function(e){var t=e.article.slug;return m.route.set("/article/".concat(t))}))}(r)}}," Publish Article ")])))))}}};e.default=c})),require.register("pages/home.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,o=(n=t("Http"))&&n.__esModule?n:{default:n},i=t("components");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(e){return function(t){return function(r){return function(n){return"feed"==n.tags.current?e.getTask(t)("articles/feed?limit=20&offset=".concat(r.offset)):e.getTask(t)("articles?limit=20&offset=".concat(r.offset,"&tag=").concat(n.tags.current))}}}},l=function(){var e={tags:{tagList:[],selected:[],current:""},articles:{}},t={feedStatus:"loading",pageStatus:"loading",limit:20,offset:0,total:0,error:null},r=function(r){var n;t.pageStatus="loading",(n=o.default,function(e){return function(t){return function(r){return Task.of((function(e){return function(t){return a(a({},e),t)}})).ap(function(e){return function(t){return e.getTask(t)("tags")}}(n)(e)).ap(c(n)(e)(t)(r))}}})(r)(t)(e).fork((function(e){console.log("error",e),t.error=e,t.pageStatus="error"}),(function(r){var n=r.articles,o=r.articlesCount,i=r.tags;e.articles=n,t.total=o,e.tags.tagList=i,t.pageStatus="success",t.feedStatus="success"}))},n=function(r){t.feedStatus="loading",c(o.default)(r)(t)(e).fork((function(e){console.log("error",e),t.error=e,t.feedStatus="error"}),(function(r){var n=r.articles,o=r.articlesCount;e.articles=n,t.total=o,t.feedStatus="success"}))};return{oninit:function(e){var t=e.attrs.mdl;return r(t)},view:function(r){var o=r.attrs.mdl;return[!o.state.isLoggedIn()&&m(i.Banner,[m("h1.logo-font","conduit"),m("p","A place to share your knowledge.")]),"loading"==t.pageStatus&&m(i.Loader,[m("h1.logo-font","Loading Data")]),"error"==t.pageStatus&&m(i.Banner,[m("h1.logo-font","Error Loading Data: ".concat(t.error))]),"success"==t.pageStatus&&[m(i.FeedNav,{fetchData:n,mdl:o,data:e}),"loading"==t.feedStatus&&m("ion-text","Loading Articles ..."),"success"==t.feedStatus&&t.total?[m(i.Articles,{mdl:o,data:e}),m(i.Paginator,{mdl:o,state:t,fetchDataFor:function(e){t.offset=e,n(o)}})]:m("ion-text","No articles are here... yet."),o.state.isLoggedIn()&&m("ion-fab",{vertical:"bottom",horizontal:"end",slot:"fixed"},m(m.route.Link,{class:"nav-link",href:"/editor"},[m("ion-fab-button",m("ion-icon",{name:"add-circle"}))])),m("",m(i.TagList,{mdl:o,data:e}))]]}}};e.default=l})),require.register("pages/login.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.loginTask=void 0;var n,o=(n=t("Http"))&&n.__esModule?n:{default:n};var i=function(e){return function(t){return function(r){return e.postTask(t)("users/login")({user:r})}}};e.loginTask=i;var u=function(){var e={errors:{},disabled:!1},t={email:"",password:""};return{view:function(r){var n=r.attrs.mdl;return m("div.auth-page",m("div.container.page",m("div.row",m("div.col-md-6.offset-md-3.col-xs-12",[m("h1.text-xs-center","Login"),m("p.text-xs-center",m(m.route.Link,{href:"/register"},"Need an account?"),e.errors["email or password"]&&m(".error-messages",m("span","email or password  ".concat(e.errors["email or password"])))),m("form",[m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",disabled:e.disabled,placeholder:"email",onchange:function(e){return t.email=e.target.value},value:t.email,onblur:function(t){return e.isSubmitted&&validate}}),e.errors.email&&m(".error-messages",m("span",e.errors.email))),m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"password",disabled:e.disabled,placeholder:"password",onchange:function(e){return t.password=e.target.value},value:t.password,onblur:function(t){return e.isSubmitted&&validate}})),m("button.btn.btn-lg.btn-primary.pull-xs-right",{type:"submit",onclick:function(r){return function(r,n){n.preventDefault(),e.disabled=!0;i(o.default)(r)(t).fork((function(t){e.errors=t,e.disabled=!1,console.log(e.errors)}),(function(t){var n=t.user;sessionStorage.setItem("token","Token ".concat(n.token)),sessionStorage.setItem("user",JSON.stringify(n)),r.user=n,e.disabled=!1,m.route.set("/home")}))}(n,r)}},"Login")])]))))}}};e.default=u})),require.register("pages/profile.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.loadInitDataTask=e.loadDataTask=void 0;var n,o=(n=t("Http"))&&n.__esModule?n:{default:n},i=t("Utils"),u=t("components");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(e){return"profiles/".concat(e,"/follow")},f=function(e){return function(t){return function(r){return e.postTask(t)(l(r))()}}},d=function(e){return function(t){return function(r){return e.deleteTask(t)(l(r))}}},g=function(e){return function(t){return function(r){return function(n){return e.getTask(t)("articles?limit=".concat(r.limit,"&offset=").concat(r.offset,"&author=").concat(n))}}}},p=function(e){return function(t){return function(r){return r.showFaveArticles?function(e){return function(t){return function(r){return function(n){return e.getTask(t)("articles?limit=".concat(r.limit,"&offset=").concat(r.offset,"&favorited=").concat(n))}}}}(e)(t)(r)(t.slug):g(e)(t)(r)(t.slug)}}};e.loadDataTask=p;var v=function(e){return function(t){return function(r){return Task.of((function(e){return function(t){return s(s({},e),{},{authorArticles:t})}})).ap(function(e){return function(t){return function(r){return e.getTask(t)("profiles/".concat(r))}}}(e)(t)(t.slug)).ap(g(e)(t)(r)(t.slug))}}};e.loadInitDataTask=v;var b=function(e){var t=e.attrs.mdl,r={authorArticles:{articles:[],articlesCount:0},authorFavoriteArticles:{articles:[],articlesCount:0}},n={pageStatus:"loading",feedStatus:"loading",showFaveArticles:!1,limit:5,offset:0,total:0,error:null},a=function(e){n.feedStatus="loading",p(o.default)(e)(n).fork((function(e){console.log("error",e),n.error=e,n.feedStatus="error"}),(function(e){n.showFaveArticles?r.authorFavoriteArticles=e:r.authorArticles=e,n.total=n.showFaveArticles?r.authorFavoriteArticles.articlesCount:r.authorArticles.articlesCount,n.feedStatus="success"}))},s=function(e){n.showFaveArticles=e,n.offset=0,a(t)},c=function(e){var n=e.author,u=n.username,a=n.following,s=(0,i.log)("toggleAuthorFollow, err-auth");(a?d:f)(o.default)(t)(u).fork(s,(function(e){var t=e.profile.following;return r.profile.following=t}))};return{oninit:function(e){return function(e){n.pageStatus="loading",v(o.default)(e)(n).fork((function(e){console.log("error",e),n.error=e,n.pageStatus="error",m.route.set("/home")}),(function(e){var t=e.authorArticles,o=e.profile;r.authorArticles=t,r.profile=o,n.pageStatus="success",n.feedStatus="success",n.total=r.authorArticles.articlesCount}))}(e.attrs.mdl)},view:function(e){var t=e.attrs.mdl;return m(".profile-page","loading"==n.pageStatus&&m(u.Loader,[m("h1.logo-font","Loading ...")]),"error"==n.pageStatus&&m(u.Banner,[m("h1.logo-font","Error Loading Data: ".concat(n.error))]),"success"==n.pageStatus&&[m(".user-info",m(".container",m(".row",m(".col-xs-12.col-md-10.offset-md-1",[m("img.user-img",{src:(0,i.sanitizeImg)(r.profile.image)}),m("h4",r.profile.username),m("p",r.profile.bio),r.profile.username!==t.user.username?m("button.btn.btn-sm.btn-outline-secondary.action-btn",{onclick:function(e){c({author:{username:r.profile.username,following:r.profile.following}})}},[r.profile.following?[m("i.ion-minus-round")," Unfollow ".concat(r.profile.username," ")]:[m("i.ion-plus-round")," Follow ".concat(r.profile.username," ")]]):m("button.btn.btn-sm.btn-outline-secondary.action-btn",{onclick:function(e){return m.route.set("/settings/".concat(r.profile.username))}},[m("i.ion-gear-a.p-5"),"Edit Profile Settings"])])))),m(".container",m(".row",m(".col-xs-12.col-md-10.offset-md-1",[m(".articles-toggle",m("ul.nav.nav-pills.outline-active",[m("li.nav-item",m("a.nav-link ".concat(!n.showFaveArticles&&"active"),{onclick:function(e){return s(!1)}},"My Articles")),m("li.nav-item",m("a.nav-link ".concat(n.showFaveArticles&&"active"),{onclick:function(e){return s(!0)}},"Favorited Articles"))])),"loading"==n.feedStatus&&"Loading Articles...","error"==n.feedStatus&&m(u.Banner,[m("h1.logo-font","Error Loading Data: ".concat(n.error))]),"success"==n.feedStatus&&[n.showFaveArticles?m(u.Articles,{mdl:t,data:r.authorFavoriteArticles}):m(u.Articles,{mdl:t,data:r.authorArticles}),m(u.Paginator,{mdl:t,state:n,fetchDataFor:function(e){n.offset=e,a(t)}})]])))])}}};e.default=b})),require.register("pages/register.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,o=(n=t("Http"))&&n.__esModule?n:{default:n},i=t("Utils");var u=function(){var e={errors:[],disabled:!1},t={username:"",email:"",password:""};return{view:function(r){var n=r.attrs.mdl;return m(".auth-page",m(".container.page",m(".row",m(".col-md-6.offset-md-3.col-xs-12",[m("h1.text-xs-center","Sign Up"),m("p.text-xs-center",m(m.route.Link,{href:"/login"},"Have an account?")),e.errors&&e.errors.map((function(e){return m(".error-messages",m("ul","".concat(e.key),e.values.map((function(e){return m("li",e)}))))})),m("form",[m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",disabled:e.disabled,placeholder:"Your Name",onchange:function(e){return t.username=e.target.value},value:t.username})),m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",disabled:e.disabled,placeholder:"email",onchange:function(e){return t.email=e.target.value},value:t.email})),m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"password",disabled:e.disabled,placeholder:"password",onchange:function(e){return t.password=e.target.value},value:t.password})),m("button.btn.btn-lg.btn-primary.pull-xs-right",{type:"submit",onclick:function(r){return function(r,n){n.preventDefault(),console.log(r),e.disabled=!0;var u;e.isSubmitted=!0,(u=o.default,function(e){return function(t){return u.postTask(e)("users")({user:t})}})(r)(t).fork((function(t){e.disabled=!1,e.errors=(0,i.errorViewModel)(t)}),(function(t){var n=t.user;r.user=n,sessionStorage.setItem("token","Token ".concat(n.token)),sessionStorage.setItem("user",JSON.stringify(n)),e.disabled=!1,m.route.set("/home"),console.log("success",n)}))}(n,r)}},"Sign Up")])]))))}}};e.default=u})),require.register("pages/user.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,o=(n=t("Http"))&&n.__esModule?n:{default:n},i=t("Utils");var u=function(e){var t=e.attrs.mdl.user,r={image:t.image,username:t.username,password:t.password,bio:t.bio,email:t.email};return{view:function(e){var t=e.attrs.mdl;return m(".settings-page",m(".container.page",m(".row",m(".col-md-6.offset-md-3.col-xs-12",[m("h1.text-xs-center","Your Settings"),m("form",m("fieldset",[m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",placeholder:"URL of profile picture",onchange:function(e){return r.image=e.target.value},value:r.image})),m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",placeholder:"Your Name",onchange:function(e){return r.username=e.target.value},value:r.username})),m("fieldset.form-group",m("textarea.form-control.form-control-lg",{placeholder:"Short bio about you",onchange:function(e){return r.bio=e.target.value},value:r.bio})),m("fieldset.form-group",m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"text",placeholder:"Email",onchange:function(e){return r.email=e.target.value},value:r.email}))),m("fieldset.form-group",m("fieldset.form-group",m("input.form-control.form-control-lg",{type:"password",placeholder:"Password",onchange:function(e){return r.password=e.target.value},value:r.password}))),m("button.btn.btn-lg.btn-primary.pull-xs-right",{onclick:function(e){return function(e,t){var r,n=(0,i.log)("error");(r=o.default,function(e){return function(t){return r.putTask(e)("user")(t)}})(e)(t).fork(n,(function(t){var r=t.user;sessionStorage.setItem("user",JSON.stringify(r)),e.user=r,console.log(e.user),m.route.set("/home")}))}(t,r)}}," Update Settings "),m("button.btn.btn-outline-danger.pull-xs-right",{onclick:function(e){return sessionStorage.clear(),void m.route.set("/home")}},"Or click here to logout.")]))]))))}}};e.default=u})),require.register("routes.js",(function(e,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=f(t("./layout/index")),o=f(t("./pages/home")),i=f(t("./pages/article")),u=f(t("./pages/profile")),a=f(t("./pages/register")),s=f(t("./pages/login")),c=f(t("./pages/user")),l=f(t("./pages/editor"));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){return{"/home":{onmatch:function(t,r){e.slug=r},render:function(){return m(n.default,{mdl:e},m(o.default,{mdl:e}))}},"/editor":{onmatch:function(t,r){e.slug=r},render:function(){return m(n.default,{mdl:e},m(l.default,{mdl:e,key:e.slug}))}},"/editor/:slug":{onmatch:function(t){var r=t.slug;e.slug=r},render:function(){return m(n.default,{mdl:e},m(l.default,{mdl:e}))}},"/article/:slug":{onmatch:function(t){var r=t.slug;e.slug=r},render:function(){return m(n.default,{mdl:e},m(i.default,{mdl:e}))}},"/profile/:slug":{onmatch:function(t){var r=t.slug;e.slug=r},render:function(){return m(n.default,{mdl:e},m(u.default,{mdl:e,key:e.slug}))}},"/settings/:slug":{onmatch:function(t){var r=t.slug;e.slug=r},render:function(){return m(n.default,{mdl:e},m(c.default,{mdl:e,key:e.slug}))}},"/login":{onmatch:function(t,r){e.slug=r},render:function(){return m(n.default,{mdl:e},m(s.default,{mdl:e}))}},"/register":{onmatch:function(t,r){e.slug=r},render:function(){return m(n.default,{mdl:e},m(a.default,{mdl:e}))}}}};e.default=d})),require.alias("process/browser.js","process"),require("process"),require.register("___globals___",(function(e,t,r){window.m=t("mithril"),window.Task=t("data.task")}))}(),require("___globals___");
